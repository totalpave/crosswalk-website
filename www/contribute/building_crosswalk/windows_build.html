<!DOCTYPE html>
<html id="top">
  <head>
    <meta charset="utf-8">
    <title>The Crosswalk Project</title>
    <link rel="shorcut icon" href="/assets/favicon.ico" type="image/x-icon" />
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon" />
    <script>
      WebFontConfig = {
        custom: {
          families: ['Clear Sans'],
          urls: ['/css/fonts.css']
        },
        google: {
          families: ['Source Code Pro:n4,n6']
        },
        timeout: 2000
      };
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script async defer src="//ajax.googleapis.com/ajax/libs/webfont/1.5.3/webfont.js"></script>
    <link rel="stylesheet" href="/css/main.css">

    <meta name="description" content="Enable the most advanced web innovations with the Crosswalk Project web runtime to develop powerful Android and Cordova apps." />
    <meta name="author" content="Crosswalk" />
    <meta name="handheldfriendly" content="true" />
    <meta name="mobileoptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="cleartype" content="on" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <!-- Facebook -->
    <meta property="og:side_name" content="Crosswalk" />
    <meta property="og:title" content="Windows build instructions" />
    <meta property="og:url" content="http://crosswalk-project.org/contribute/building_crosswalk/windows_build" />
    <meta property="og:description" content="Enable the most advanced web innovations with the Crosswalk Project web runtime to develop powerful Android and Cordova apps." />
    <meta property="og:image" content="/assets/crosswalk-og-banner.jpg" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:url" content="http://crosswalk-project.org/contribute/building_crosswalk/windows_build" />
    <meta name="twitter:title" content="Windows build instructions" />
    <meta name="twitter:description" content="Enable the most advanced web innovations with the Crosswalk Project web runtime to develop powerful Android and Cordova apps." />
    <meta name="twitter:site" content="@xwalk_project" />

    <!-- Relevant original Crosswalk Project JS -->
    <script src="/js/utils.js"></script>
    <script src="/js/xwalk.js"></script>
    <script src="/js/versions.js"></script>
    <script src="/js/demos.js"></script>
    <script src="/js/testimonials.js"></script>
    <script src="/js/tools.js"></script>
    <script src="/js/qualityindicators.js"></script>
    <script src="/js/i18n.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script language="javascript" type="text/javascript">
      var style = document.createElement('style');
      style.type = "text/css";
      style.id = "antiClickjack";
      style.innerHTML = "body{display:none !important;}";
      if (self === top) {
        var antiClickjack = document.getElementById("antiClickjack");
        antiClickjack.parentNode.removeChild(antiClickjack);
      } else {
        top.location = self.location;
      }
    </script>

  </head>
  <body>
    <!-- If curr page named 'index' and less than 2 dirs deep,
         do custom layouts. (home screen, blog, app-mgmt page)
         Else, provide doc header and nav. -->
    
    <div class="container">
      <div class="doc-header">
        


  <div class="doc-logo-div">
     <a href="/" class="doc-logo-link">
       <img src="/assets/identity/crosswalkproject-logo-horizontal-dark.png" class="doc-logo-img">
     </a>
  </div>
  <div class="doc-nav-div">
    <ul class="doc-nav-list">
      <li class="doc-nav-item">
        <a href="/documentation/getting_started.html" class="doc-nav-link">Documentation</a>
      </li>
      <li class="doc-nav-item">
        <a href="/blog" class="doc-nav-link">Blog</a>
      </li>
      <li class="doc-nav-item hide-on-small">
        <a href="/contribute" class="doc-nav-link">Contribute</a>
      </li>
      <li class="doc-nav-item hide-on-small">
        <a href="https://github.com/crosswalk-project/crosswalk-website/wiki" class="doc-nav-link">Wiki</a>
      </li>
      <li class="doc-nav-item hide-on-small">
        <a href="/documentation/about/faq.html" class="doc-nav-link">FAQ</a>
      </li>
      <li class="doc-nav-item">
	<span class="i18n-label" id="i18n-label">
	  <span id="i18n-inner">
	    <img src="/assets/i18n-globe.png" class="i18n-globe" />
	    English
	    <img src="/assets/i18n-arrow.png" class="i18n-arrow"/>
	  </span>
	  <div id="i18n-menu" class="i18n-menu i18n-menu-light">
            <a onclick="switchLanguage('English')">English</a>
            <a onclick="switchLanguage('Chinese')">中文版</a>
	  </div>
	</span>
      </li>
    </ul>
  </div>
  

      </div>
      <br />
      <div class="doc-main">
        <div class="row">
          
          <div id="translation-missing-toaster">
  <p style="padding:10px"> 抱歉，该网页目前还不存在中文版本，请继续浏览其他网页！ </p>
</div>

          



<nav id="contents" class="article-toc nav-toggleContainer">
  <a href="#contents" id="contents-toggle" class="button button--small button--tertiary nav-toggle">Table of Contents</a>
  <a href="./#contents-toggle" class="button button--small button--tertiary nav-toggle--dummy">Table of Contents</a>
  <ul class="article-list nav-toggleHide">
    
        <li class="article-item ">
        <a class="article-link" href="/contribute/.html">Overview</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/contribute/building_crosswalk.html">Building Crosswalk</a>
        
            <ul class="article-list">
            
              <li class="article-item ">
                <a class="article-link" href="/contribute/building_crosswalk/prerequisites.html">Prerequisites</a>
                
              </li>
            
              <li class="article-item ">
                <a class="article-link" href="/contribute/building_crosswalk/android_build.html">Android build instructions</a>
                
              </li>
            
              <li class="article-item ">
                <a class="article-link" href="/contribute/building_crosswalk/linux_build.html">Linux build instructions</a>
                
              </li>
            
              <li class="article-item  nav-item--active">
                <a class="article-link" href="/contribute/building_crosswalk/windows_build.html">Windows build instructions</a>
                
              </li>
            
              <li class="article-item ">
                <a class="article-link" href="/contribute/building_crosswalk/running_tests.html">Running tests</a>
                
              </li>
            
              <li class="article-item ">
                <a class="article-link" href="/contribute/building_crosswalk/tracking_branches.html">Tracking a different branch</a>
                
              </li>
            
            </ul>
          
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/contribute/contributing-code.html">Contributing code</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/contribute/contributing_tests.html">Contributing test</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/contribute/coding_style.html">Coding style</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/contribute/visual_studio.html">Visual Studio Support</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/contribute/downstream-chromium.html">Downstream Chromium</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/contribute/reviewer_policy.html">Reviewer policy</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/contribute/report_bugs.html">Report bugs</a>
        
        </li>
    
  </ul>

</nav>

<article class="article article--hasToC">
  <h1>Windows build instructions</h1><h2>Requirements</h2><p>Just like Chromium itself, building Crosswalk for Windows requires Visual Studio and the Windows 10 SDK. Also similarly to Chromium, different Crosswalk releases only work with specific versions of Visual Studio and the Windows 10 SDK. The table below summarizes the requirements for each Crosswalk release that supports Windows.</p>
<p>| Crosswalk version | Visual Studio version | Other |
| --- | --- |
| 19 | Visual Studio 2013 Update 4 or Visual Studio 2015 Update 1 | Windows 10 SDK (10.0.10586) |
| 20 | Visual Studio 2013 Update 4 or Visual Studio 2015 Update 1 | Windows 10 SDK (10.0.10586) |
| 21 | Visual Studio 2015 Update 2 | Windows 10 SDK (10.0.10586) |
| 22 | Visual Studio 2015 Update 2 | Windows 10 SDK (10.0.10586) |
| 23 | Visual Studio 2015 Update 2 | Windows 10 SDK (10.0.10586) |</p>
<p>Additionally, you must use at least Windows 7 to be able to build Crosswalk.
32-bit installations are <strong>not</strong> supported. Also make sure your system locale
is set to English, otherwise you might run into error messages such as <em>&quot;The
file contains a character that cannot be represented in the current code
page&quot;</em>.</p>
<p>These instructions assume you have already downloaded <code>depot_tools</code>,
bootstrapped it (ie. git and Python have been installed) and it is in your
<code>PATH</code> environment variable. See the <a href="prerequisites.html">prerequisites</a> page
for further information.</p>
<h2>Environment setup</h2><p>By default, when checking out Chromium as part of Crosswalk&#39;s check out
process, the scripts will attempt to download Visual Studio from internal
Google servers by default (this comes from Chromium).</p>
<p>The first thing you need to do then is to make sure this does not happen, as
only Google employees are able to reach those servers. You need to install
Visual Studio yourself.</p>
<p>When using <code>cmd</code>:</p>
<pre><code>set DEPOT_TOOLS_WIN_TOOLCHAIN=0
setx DEPOT_TOOLS_WIN_TOOLCHAIN 0</code></pre><p>The first command will set the environment variable for the existing prompt,
while the second will set it for all future prompts.</p>
<p>See the <a href="prerequisites.html">prerequisites</a> section if you prefer to configure
those environment variables using a GUI.</p>
<h2>Configure gyp</h2><p>Older (&lt; 23) Crosswalk versions are based on Chromium releases that use gyp as
their meta-build system.</p>
<p>If you want to build one of those versions, make sure you follow the gyp setup
in the section <strong>Crosswalk 22 and earlier: gyp setup</strong> at the end of this page
if you would like to build for a different CPU architecture or adjust any build
parameters.</p>
<h2>Fetching the source code</h2><ol>
<li><p>Choose where you want to download and build Crosswalk. If you are using gyp
and opted for having a <code>chromium.gyp_env</code> file, this directory must contain
that file.</p>
<pre><code>cd C:\path\to\crosswalk-checkout</code></pre></li>
<li><p>Generate a <code>.gclient</code> file. This tells <code>gclient</code> where to fetch Crosswalk
from. It assumes <code>depot_tools</code> is in your <code>PATH</code> variable.</p>
<pre><code> gclient config --name src/xwalk https://github.com/crosswalk-project/crosswalk.git</code></pre></li>
<li><p>Run <code>gclient sync</code> to fetch Crosswalk, all other git repositories it depends
on as well as any additional helper files. If you are using Crosswalk 22 or
earlier, this will also automatically run the <code>gyp_xwalk</code> script in the end.</p>
<pre><code> gclient sync</code></pre></li>
</ol>
<h2>Crosswalk 23 and later: GN setup</h2><p>Starting with Crosswalk 23, GN has replaced gyp as the meta-build system for
both Chromium and Crosswalk. Its setup is a bit different compared to gyp, as
<code>chromium.gyp_env</code> (and the <code>GYP_DEFINES</code> environment variable) does not have
any effect, and the <code>gyp_xwalk</code> is not used.</p>
<p>Instead, you use the <code>gn</code> binary to both edit a file with your settings as well
as generate the files required by Ninja to build.</p>
<p>In order to build Crosswalk, you need to have at least one line in your
settings to pull some default variables we set:</p>
<pre><code>cd C:\path\to\crosswalk-checkout\src
gn args out/Default</code></pre><p>A text editor will be shown, where you must add the following line:</p>
<pre><code>import(&quot;//xwalk/build/windows.gni&quot;)</code></pre><p>You can add other settings after this statement, such as <code>is_debug = false</code> for
a release build or <code>target_cpu = &quot;x64&quot;</code> to create a 64-bit build.</p>
<p>Once you have done this once, you can later call <code>gn gen out/Default</code> to just
regenerate the ninja files based on your existing settings if you need to (most
of the time, this will be done automatically for you when building).</p>
<p>See Chromium&#39;s
<a href="https://www.chromium.org/developers/gn-build-configuration">page about GN</a> for
more information, including other common settings.</p>
<h2>Crosswalk 22 and earlier: gyp setup</h2><p>Up to Crosswalk 22, both Chromium and Crosswalk used gyp as a meta-build system
that generated the actual build system files used by ninja.</p>
<p>gyp accepts flags to change its behavior. They can be used to tell it you want
to create a 64-bit build, for example.</p>
<p>There are two ways to define those flags:</p>
<ol>
<li><p>Create a file called <code>chromium.gyp_env</code> on the directory where you will
later call <code>gclient config</code> and <code>gclient sync</code> (so the one above <code>src/</code>).
It needs to look like this:</p>
<pre><code> {
   &#39;GYP_DEFINES&#39;: &#39;key1=value1 key2=value2&#39;,
 }</code></pre></li>
<li><p>Use <code>set</code> and/or <code>setx</code> in a command prompt to set <code>GYP_DEFINES</code> as an
environment variable.</p>
</li>
</ol>
<p>These values are read every time you run the <code>src\xwalk\gyp_xwalk</code> script, so
whenever you want to change them remember to run the script afterwards.</p>
<p>To generate a 64-bit build instead of a 32-bit one, you can set <code>target_arch</code>
to <code>x64</code>. For example, if you are using <code>chromium.gyp_env</code>, its contents should
look like this:</p>
<pre><code>{
  &#39;GYP_DEFINES&#39;: &#39;target_arch=x64&#39;,
}</code></pre><p>Do not forget to run <code>src\xwalk\gyp_xwalk</code> (it is run automatically with
<code>gclient sync</code>) whenever you modify your gyp flags, otherwise your changes will
have no effect.</p>
<h2>Building Crosswalk</h2><p>Once either gyp or GN has been properly configured, it is time to build
Crosswalk.</p>
<pre><code>cd C:\path\to\crosswalk-checkout\src
ninja -C YOUR-BUILD-DIR YOUR-TARGET</code></pre><p>You should replace <strong>YOUR-BUILD-DIR</strong> above with the appropriate directory
created with gyp or GN:</p>
<ul>
<li>With gyp and a 32-bit build, it&#39;s <code>out/Release</code>.</li>
<li>With gyp and a 64-bit build, it&#39;s <code>out/Release_x64</code>.</li>
<li>With GN, it&#39;s whatever directory you chose, such as <code>out/Default</code>.</li>
</ul>
<h2>Special topics: Visual Studio integration</h2><p>It is possible to use Visual Studio as an IDE when working on Chromium and
Crosswalk with minimal changes.</p>
<h3>gyp</h3><p>If you are using <code>gyp</code>, you need to set the <code>GYP_GENERATORS</code> flag to
<code>ninja,msvs-ninja</code> and call the <code>gyp_xwalk</code> script again.</p>
<p>To build in Visual Studio, open xwalk.sln from
<code>path\to\crosswalk-checkout\src\xwalk</code> and you’re ready to go. Select a target
and click Build (for example <code>xwalk</code>, or <code>xwalk_builder</code>). Please note that
<code>xwalk.sln</code> actually has all the Chromium code as a dependency therefore
xwalk.sln has something like 600 subprojects which requires a pretty powerful
machine with a lot of RAM to be able to handle that correctly.</p>
<p>We suggest using the <a href="http://vsfunnel.com/">Funnel extension</a> which allows you
to select which subproject you want to load.</p>
<h3>GN</h3><p>If you are using <code>gn</code>, you need to pass <code>--ide=vs</code> to <code>gn gen</code>.</p>
<p>GN will produce a file called <code>all.sln</code> in your build directory. It will
internally use Ninja to compile while still allowing most IDE functions to
work. If you manually run <code>gn gen</code> again you will need to resupply this
argument, but normally GN will keep the build and IDE files up to date
automatically when you build.</p>
<p>The generated solution will contain several thousand projects and will be very
slow to load. Use the <code>--filters</code> argument to restrict generating project files
for only the code you&#39;re interested in, although this will also limit what
files appear in the project explorer. A minimal solution that will let you
compile and run Chrome in the IDE but will not show any source files is:</p>
<pre><code>gn gen --ide=vs --filters=//xwalk out\Default</code></pre><h2>Chromium information</h2><p>Most of the instructions described in this page are similar to Chromium&#39;s own
instructions. We suggest you take a look at its instructions as well; it might
help solve any questions you have after reading our documentation.</p>
<ul>
<li><a href="https://chromium.googlesource.com/chromium/src/+/master/docs/windows_build_instructions.md">Chromium Windows build instructions</a></li>
</ul>
  <footer class="article-next">
    




  </footer>
</article>

          
        </div>
      </div>
    </div>
    

    
 
  <hr class="footer-divider" style="margin-top:125px; margin-bottom:0px" />
    <div style="position:relative; top:-30px;">
       <a href="/"><img src="/assets/cw-logo-circle.png" width="60px" style="display:block; margin: 0 auto;" /></a>
    </div>
    <footer class="footer footer--documentation" >
      <div class="container" >
        <div class="row">
          <div  class="footer-div" language="en">
          <img src="/assets/Twitter_logo_blue.png" width="20px" /> Follow  <a href="http://twitter.com/xwalk_project">@xwalk_project on Twitter</a> for the latest developer activities and project updates.
          </div>
           <div  class="footer-div" language="zh" style="display:none">
           <img src="/assets/Sina_Weibo_Blue.png" width="60px" /> 参考<a href="http://weibo.com/crosswalk">微博</a> 最新的开发者活动或者更新。
          </div>
          <div class="footer-div">
             Latest blog post:</br>
              
              
                <b><a href="/blog">Crosswalk 23 to be the last Crosswalk release</a></b><br/>
                &nbsp;(<span ><time class="js-vagueTime" datetime="Fri, 10 Feb 2017 13:30:00 GMT">2017-02-10T09:30</time></span>)
              
              <br/>
           </div>
          <div class="footer-div">
              <strong><a href="/feed.xml"><img src="/assets/rss-icon-16.gif" style="vertical-align:middle" /> RSS Feed</a></strong>
          </div>
          <div class="footer-div">
             <a href="/documentation/getting_started.html"> Documentation</a> &nbsp;
             <a href="/blog"> Blog</a> &nbsp;
             <a href="/documentation/downloads.html"> Downloads</a> <br />
             <a href="https://crosswalk-project.org/jira/secure/Dashboard.jspa"> Issues</a> &nbsp;
             <a href="https://github.com/crosswalk-project"> GitHub Source</a> &nbsp;
             <a href="/sitemap.html">Sitemap</a> <br/>
          </div>
        </div>
        <div class="row">
            <small>
              The Crosswalk Project was created by the Intel Open Source Technology Center. Copyright © 2013–2016 Intel Corporation. All right reserved. <a href="https://github.com/crosswalk-project/crosswalk-website/wiki/Privacy-Policy">  Privacy policy </a>  *Other names and brands may be claimed as the property of others.
            </small>
        </div>
      </div>
    </footer>
<script>
    $("[language=en]").css("display","none");
    $("[language=en]").css("display","block");
</script>

    
    
      <!-- Google Tag Manager -->
      <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-WC843Q"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
      <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-WC843Q');</script>
      <!-- End Google Tag Manager -->
    
    <script src="/js/smoothScroll.js"></script>
    <script src="/js/vagueTime.js"></script>
    <!-- <script async defer src="/js/trmix.js"></script> -->
  </body>
</html>
